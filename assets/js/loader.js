!function(){"use strict";var e={loader:null,progressbar:null,displayFrequency:"every",siteUrl:"",animationType:"wipe",hasShown:!1,startTime:null,minDisplayTime:2e3,initialized:!1,init:function(){this.initialized||(this.initialized=!0,this.loader=document.getElementById("screw-loader-wrapper"),this.progressbar=document.querySelector(".screw-progressbar"),this.loader&&(this.startTime=Date.now(),"undefined"!=typeof screwSettings&&(this.displayFrequency=screwSettings.displayFrequency||"every",this.siteUrl=screwSettings.siteUrl||"",this.animationType=screwSettings.animationType||"wipe"),this.minDisplayTime="progressbar"===this.animationType?1e3:2e3,"once"!==this.displayFrequency||"1"!==sessionStorage.getItem("screw_shown")?(this.progressbar&&(this.progressbar.style.animation="none",this.updateProgressbar()),"complete"===document.readyState?this.onLoad():window.addEventListener("load",this.onLoad.bind(this)),this.registerLinks()):this.loader.remove()))},onLoad:function(){var e=this,t=Date.now()-this.startTime,i=Math.max(0,this.minDisplayTime-t);setTimeout(function(){e.loader.classList.add("loaded"),"once"===e.displayFrequency&&sessionStorage.setItem("screw_shown","1"),setTimeout(function(){e.loader.remove()},1200)},i)},updateProgressbar:function(){var e=0,t=this,i=Date.now(),n=!1,s=function(){if(!n){var r=Date.now()-i,a=Math.min(r/t.minDisplayTime*90,90);e=a,t.progressbar.style.width=e+"%",requestAnimationFrame(s)}};requestAnimationFrame(s),window.addEventListener("load",function(){n=!0,t.progressbar.style.width="100%"})},registerLinks:function(){var e=this;document.addEventListener("click",function(t){if("every"===e.displayFrequency){var i=t.target;if("A"===i.tagName||(i=i.closest("a"))){var n=i.getAttribute("href");n&&"#"!==n&&0!==n.indexOf("#")&&"_blank"!==i.getAttribute("target")&&-1===n.indexOf("/wp-admin/")&&-1===n.indexOf("/wp-login.php")&&e.isInternalLink(n)}}})},isInternalLink:function(e){return 0!==e.indexOf("http")||0===e.indexOf(this.siteUrl)},showLoader:function(){if(document.querySelectorAll("#screw-loader-wrapper").forEach(function(e){e.remove()}),this.loader){var e=this.loader.cloneNode(!0);e.classList.remove("loaded"),document.body.appendChild(e);var t=this,i=Date.now(),n=function(){var n=Date.now()-i,s=Math.max(0,t.minDisplayTime-n);setTimeout(function(){e.classList.add("loaded"),setTimeout(function(){e.remove()},1200)},s)};window.removeEventListener("load",n),window.addEventListener("load",n),"complete"===document.readyState&&n()}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e.init()}):e.init()}();